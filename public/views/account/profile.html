<div class="page-header account-header text-center">
    <div class="col-sm-12">
        <h1>Account</h1>
    </div>
    <br/><br/>
</div>

<div class="row">
    <!-- LOCAL INFORMATION -->
    <div class="col-sm-12">
        <div class="well well-sm">
            <div style="overflow-y:hidden;">
                <div class="col-sm-10">
                    <h3><span class="fa fa-user"></span> {{user.firstName}} {{user.lastName}}</h3>
                </div>
                <div class="col-sm-2">
                    <form ng-submit="logout()" method="get">
                        <button type="submit" class="btn btn-default btn-lg btn-want-some">Logout</button><br/>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-9 col-xs-9">

            <form class="form-horizontal" ng-submit="updateUser();" name="account_form" method="post" novalidate>
               <!-- <div class="alert text-center alert-success col-sm-10 col-sm-offset-2" role="alert" ng-show="mailMsg">
                    <p>{{ mailMsg }}</p>
                </div>

-->
                <div class="form-group">
                    <label for="inputUsername" class="col-sm-2 control-label">Username</label>

                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputUsername" name="username"
                               ng-model="user.local.username"
                               placeholder="Username" required ng-maxlength=16 ng-minlength=3 disabled>

                        <div ng-show="account_form.username.$dirty && account_form.username.$invalid">
                            <small ng-show="account_form.username.$error.required">
                                Your name is required.
                            </small>
                            <small class="error" ng-show="account_form.username.$error.minlength">
                                Your name is required to be at least 3 characters
                            </small>
                            <small class="error" ng-show="account_form.username.$error.maxlength">
                                Your name cannot be longer than 16 characters
                            </small>
                        </div>
                        <input type="hidden" name="password" ng-model="user.local.password"/>
                    </div>

                </div>

                <div class="form-group">
                    <label for="inputFirstName" class="col-sm-2 control-label">First Name</label>

                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputFirstName" name="firstName"
                               ng-model="user.firstName"
                               placeholder="First Name" required>

                        <div ng-show="account_form.firstName.$dirty && account_form.firstName.$invalid" class="text-danger">
                            <small ng-show="account_form.firstName.$error.required">
                                Your first name is required.
                            </small>

                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputLastName" class="col-sm-2 control-label">Last Name</label>

                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputLastName" name="lastName"
                               ng-model="user.lastName"
                               placeholder="Last Name" required>

                        <div ng-show="account_form.lastName.$dirty && account_form.lastName.$invalid" class="text-danger">
                            <small ng-show="account_form.lastName.$error.required">
                                Your last name is required.
                            </small>

                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail" class="col-sm-2 control-label">Email</label>

                    <div class="col-sm-10">
                        <input type="email" class="form-control" id="inputEmail" name="email" ng-model="user.email"
                               placeholder="Email" required>

                        <div ng-show="account_form.email.$dirty && account_form.email.$invalid" class="text-danger">
                            <small ng-show="account_form.email.$error.required">
                                Your email is required.
                            </small>
                            <small class="error" ng-show="account_form.email.$error.email">
                                That is not a valid email. Please input a valid email.
                            </small>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputMobileNumber" class="col-sm-2 control-label">Mobile Number</label>

                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputMobileNumber" name="mobileNumber"
                               ng-model="user.mobileNumber"
                               placeholder="Mobile Number" required ng-pattern="/\b\d{3}[-.]?\d{3}[-.]?\d{4}\b/">

                        <div ng-show="account_form.mobileNumber.$dirty && account_form.mobileNumber.$invalid" class="text-danger">
                            <small ng-show="account_form.mobileNumber.$error.required">
                                Your mobile number is required.
                            </small>
                            <small ng-show="account_form.mobileNumber.$error.pattern">
                                That is not a valid number. Please input a valid number.
                            </small>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputLocation" class="col-sm-2 control-label">Location</label>

                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputLocation" name="location"
                               ng-model="user.location"
                               placeholder="Location">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-10 col-sm-2">
                        <button type="submit" ng-disabled="account_form.$invalid" class="btn btn-default">Update
                            Account
                        </button>
                    </div>

                    <div class="col-sm-12 alert text-center alert-warning" style="padding: 5px;margin-top: 12px;" role="alert" ng-show="updateMessage">
                        <p>{{updateMessage}}</p>
                    </div>
                </div>

            </form>
        </div>


        <!--PASSWORD-->

        <div class="col-md-3 col-xs-3">
            <div class="container-fluid well">
                <form class="form-horizontal" ng-submit="updatePassword();" name="password_form" method="post" novalidate>
                    <div class="form-group">
                        <label for="inputCurrent" class=" control-label">Current Password</label>
                        <input type="password" class="form-control" id="inputCurrent" name="currentPassword"
                               ng-model="currentPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="inputNew" class="control-label">New Password</label>
                        <input type="password" class="form-control" id="inputNew" name="newPassword"
                               ng-model="newPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="inputConfirm" class="control-label">Confirm Password</label>
                        <input type="password" class="form-control" id="inputConfirm" name="confirmPassword"
                               ng-model="confirmPassword" required>
                    </div>
                    <div class="col-sm-offset-4 col-sm-8">
                        <button type="submit" ng-disabled="password_form.$invalid" class="btn btn-default">Update
                            Password
                        </button>
                    </div>
                    <input type="hidden" class="form-control" name="passwordUsername"
                           ng-model="user.local.username" value="{{user.local.username}}">
                    <div class="col-sm-12 alert text-center alert-warning" style="padding: 5px;margin-top: 12px;" role="alert" ng-show="passwordMessage">
                        <p>{{ passwordMessage }}</p>
                    </div>

                </form>
            </div>
        </div>


    </div>

</div>

